{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="filter-container">
    <div class="filter-row">
        <label for="device">Filter by Device:</label>
        <select name="device" id="device">
            <option value="">All Devices</option>
            {% for device in all_devices %}
            <option value="{{ device.id }}">{{ device.name }}</option>
            {% endfor %}
        </select>
        
        <label for="runtime">Filter by Runtime:</label>
        <select name="runtime" id="runtime">
            <option value="">All Runtimes</option>
            {% for runtime in all_runtimes %}
            <option value="{{ runtime }}">{{ runtime }}</option>
            {% endfor %}
        </select>
    </div>
</div>

<h1 class="neon typing">Benchmarks</h1>
<table id="benchmarks-table">
    <thead>
        <tr>
            <th>AI Model</th>
            <th>Device</th>
            <th>Runtime</th>
            <th>Test Date</th>
            <th>Inference Time (ms)</th>
            <th>Memory Usage</th>
            <th>Accuracy</th>
            <th>Compute Units</th>
        </tr>
    </thead>
    <tbody id="benchmarks-body">
        {% for benchmark in benchmarks %}
        <tr class="benchmark-row" 
            data-device="{{ benchmark.device.id }}"
            data-runtime="{{ benchmark.runtime }}">
            <td><a href="{% url 'ai_model_detail' benchmark.ai_model.id %}">{{ benchmark.ai_model.name }}</a></td>
            <td><a href="{% url 'device_detail' benchmark.device.id %}">{{ benchmark.device.name }}</a></td>
            <td>{{ benchmark.runtime }}</td>
            <td>{{ benchmark.test_date }}</td>
            <td>{{ benchmark.inference_time }}</td>
            <td>{{ benchmark.memory_usage }}</td>
            <td>{{ benchmark.ai_model.accuracy }}</td>
            <td>{{ benchmark.compute_units }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Load the external JavaScript file -->
<script src="{% static 'js/benchmark_filters.js' %}"></script>

{% endblock %}